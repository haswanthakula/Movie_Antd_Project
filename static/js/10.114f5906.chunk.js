"use strict";(self.webpackChunkpro=self.webpackChunkpro||[]).push([[10],{10:(e,t,s)=>{s.r(t),s.d(t,{default:()=>H});var i=s(5043),l=s(8964),r=s(5531),n=s(3927),a=s(4434),o=s(9748),d=s(1995),c=s(1982),h=s(6051),x=s(5206),p=s(7490),j=s(7419),g=s(1645),y=s(2513),m=s(6399),u=s(8677),A=s(4522),v=s(2761),f=s(3761),b=s(6160),C=s(2058),w=s(1882),k=s(3722),F=s(6959),S=s(1966),z=s(5037),I=s(5337),P=s(3881),T=s(5016),q=s(3216),D=s(579);const{Header:$,Content:L}=l.A,{Meta:M}=r.A,{Title:N,Text:B}=n.A,{Option:O}=a.A,H=()=>{const{products:e,loading:t,addToCart:s,cart:n,removeFromCart:H,updateQuantity:Y,clearCart:E,placeOrder:G,getTotalPrice:Q}=(0,P.Bj)(),{logout:R}=(0,T.As)(),U=(0,q.Zp)(),[V,W]=(0,i.useState)(!1),[Z,J]=(0,i.useState)(!1),[K,X]=(0,i.useState)(""),[_,ee]=(0,i.useState)([]),[te,se]=(0,i.useState)([]),[ie]=o.A.useForm(),le=e=>new Date(e).getFullYear(),re=e=>{var t;return(null===(t=e.rating)||void 0===t?void 0:t.rate)||0},ne=e=>{var t;return(null===(t=e.rating)||void 0===t?void 0:t.count)||0},ae=(0,i.useMemo)((()=>e?[...new Set(e.map((e=>e.category)))].sort():[]),[e]),oe=(0,i.useMemo)((()=>e?[...new Set(e.map((e=>le(e.releaseDate))))].sort(((e,t)=>t-e)):[]),[e]),de=(0,i.useMemo)((()=>e?0===_.length?e:e.filter((e=>_.includes(e.category))):[]),[e,_]).filter((e=>{const t=e.title.toLowerCase().includes(K.toLowerCase()),s=0===te.length||te.includes(le(e.releaseDate));return t&&s})),ce=(0,D.jsx)(d.A,{title:"Checkout",open:Z,onCancel:()=>{J(!1),ie.resetFields()},footer:null,children:(0,D.jsxs)(o.A,{form:ie,layout:"vertical",onFinish:async e=>{await G(e)&&(J(!1),W(!1),ie.resetFields(),U("/user"))},initialValues:{name:"",email:"",phone:"",address:""},children:[(0,D.jsx)(o.A.Item,{name:"name",label:"Full Name",rules:[{required:!0,message:"Please enter your name"}],children:(0,D.jsx)(c.A,{})}),(0,D.jsx)(o.A.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"Please enter a valid email"}],children:(0,D.jsx)(c.A,{})}),(0,D.jsx)(o.A.Item,{name:"phone",label:"Phone Number",rules:[{required:!0,message:"Please enter your phone number"},{pattern:/^\d+$/,message:"Please enter a valid phone number"}],children:(0,D.jsx)(c.A,{})}),(0,D.jsx)(o.A.Item,{name:"address",label:"Delivery Address",rules:[{required:!0,message:"Please enter your address"}],children:(0,D.jsx)(c.A.TextArea,{rows:3})}),(0,D.jsx)(o.A.Item,{children:(0,D.jsxs)(h.A,{style:{width:"100%",justifyContent:"flex-end"},children:[(0,D.jsx)(x.Ay,{onClick:()=>{J(!1),ie.resetFields()},children:"Cancel"}),(0,D.jsxs)(x.Ay,{type:"primary",htmlType:"submit",children:["Place Order ($",Q().toFixed(2),")"]})]})})]})});return(0,D.jsxs)(l.A,{children:[(0,D.jsxs)($,{style:{background:"#fff",padding:"0 24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,D.jsx)(N,{level:3,style:{margin:0},children:"Movie Catalog"}),(0,D.jsxs)(h.A,{children:[(0,D.jsx)(p.A,{count:n.length,size:"small",children:(0,D.jsxs)(x.Ay,{type:"primary",icon:(0,D.jsx)(f.A,{}),onClick:()=>W(!0),children:["Cart (",n.length," items)"]})}),(0,D.jsx)(x.Ay,{type:"primary",danger:!0,icon:(0,D.jsx)(b.A,{}),onClick:()=>{R(),U("/")},children:"Logout"})]})]}),(0,D.jsxs)(L,{style:{padding:"24px",minHeight:"calc(100vh - 64px)",background:"#f0f2f5"},children:[(0,D.jsxs)(j.A,{gutter:[16,16],style:{marginBottom:24},children:[(0,D.jsx)(g.A,{xs:24,sm:12,md:8,lg:6,children:(0,D.jsx)(c.A,{placeholder:"Search movies...",prefix:(0,D.jsx)(C.A,{}),value:K,onChange:e=>X(e.target.value)})}),(0,D.jsx)(g.A,{xs:24,sm:12,md:8,lg:6,children:(0,D.jsx)(a.A,{style:{width:"100%"},placeholder:"Select Years",value:te,onChange:se,mode:"multiple",allowClear:!0,children:oe.map((e=>(0,D.jsx)(O,{value:e,children:e},e)))})})]}),(0,D.jsx)("div",{style:{marginBottom:24},children:(0,D.jsxs)(h.A,{direction:"vertical",style:{width:"100%"},children:[(0,D.jsx)(B,{strong:!0,children:"Filter by Category:"}),(0,D.jsx)(y.A,{onChange:e=>{ee(e.target.checked?ae:[])},checked:_.length===ae.length,indeterminate:_.length>0&&_.length<ae.length,children:"Select All"}),(0,D.jsx)(y.A.Group,{options:ae.map((e=>({label:e,value:e}))),value:_,onChange:e=>{ee(e)},style:{display:"flex",flexWrap:"wrap",gap:8}})]})}),(0,D.jsx)(j.A,{gutter:[16,16],children:t?(0,D.jsx)(g.A,{span:24,children:(0,D.jsx)("div",{style:{textAlign:"center",padding:"50px"},children:"Loading..."})}):0===de.length?(0,D.jsx)(g.A,{span:24,children:(0,D.jsx)("div",{style:{textAlign:"center",padding:"50px"},children:"No movies found"})}):de.map((e=>{return(0,D.jsx)(g.A,{xs:24,sm:12,md:8,lg:6,children:(0,D.jsx)(r.A,{hoverable:!0,style:{height:"100%"},cover:(0,D.jsxs)("div",{style:{height:400,overflow:"hidden",position:"relative"},children:[(0,D.jsx)("img",{alt:e.title,src:e.image,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),(0,D.jsxs)(m.A,{color:"blue",style:{position:"absolute",top:10,right:10},children:[(0,D.jsx)(w.A,{})," ",re(e).toFixed(1)]}),(0,D.jsxs)(m.A,{color:"green",style:{position:"absolute",top:40,right:10},children:[(0,D.jsx)(k.A,{})," ",ne(e)]})]}),children:(0,D.jsx)(M,{title:(0,D.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,D.jsx)(B,{strong:!0,style:{fontSize:"16px"},children:e.title}),(0,D.jsxs)(B,{strong:!0,style:{fontSize:"16px",color:"#1890ff"},children:["$",Number(e.price).toFixed(2)]})]}),description:(0,D.jsx)("div",{children:(0,D.jsxs)(h.A,{direction:"vertical",style:{width:"100%"},children:[(0,D.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,D.jsx)(B,{type:"secondary",children:e.category}),(0,D.jsx)(B,{type:"secondary",children:(t=e.releaseDate,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]}),(0,D.jsx)(x.Ay,{type:"primary",icon:(0,D.jsx)(f.A,{}),onClick:()=>s(e),style:{width:"100%",marginTop:8},children:"Add to Cart"})]})})})})},e.id);var t}))}),(0,D.jsx)(x.Ay,{type:"primary",shape:"circle",icon:(0,D.jsx)(F.A,{}),size:"large",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},style:{position:"fixed",bottom:50,right:50,zIndex:1e3,boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}}),(0,D.jsxs)(u.A,{title:(0,D.jsxs)(j.A,{justify:"space-between",align:"middle",style:{width:"100%"},children:[(0,D.jsx)(g.A,{children:(0,D.jsxs)(B,{strong:!0,style:{fontSize:"16px"},children:["Shopping Cart (",n.length," ",1===n.length?"item":"items",")"]})}),(0,D.jsx)(g.A,{children:(0,D.jsxs)(h.A,{children:[(0,D.jsxs)(B,{strong:!0,children:["TotalPrice: $",Q().toFixed(2)]}),(0,D.jsx)(x.Ay,{type:"text",danger:!0,onClick:E,disabled:0===n.length,children:"Clear Cart"})]})})]}),placement:"right",onClose:()=>W(!1),open:V,width:500,children:[(0,D.jsx)(A.A,{itemLayout:"horizontal",dataSource:n,renderItem:e=>(0,D.jsx)(A.A.Item,{style:{padding:"16px 0"},actions:[(0,D.jsx)(x.Ay,{type:"text",danger:!0,icon:(0,D.jsx)(S.A,{}),onClick:()=>H(e.id)})],children:(0,D.jsx)(A.A.Item.Meta,{avatar:(0,D.jsx)(v.A,{shape:"square",size:60,src:e.image,style:{objectFit:"cover",borderRadius:"8px",border:"1px solid #f0f0f0"}}),title:(0,D.jsxs)(h.A,{direction:"vertical",size:4,style:{width:"100%"},children:[(0,D.jsx)(B,{strong:!0,children:e.title}),(0,D.jsxs)(B,{type:"secondary",children:["$",Number(e.price).toFixed(2)]})]}),description:(0,D.jsx)(h.A,{direction:"vertical",size:12,style:{width:"100%",marginTop:8},children:(0,D.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,D.jsxs)(h.A,{size:"large",children:[(0,D.jsx)(x.Ay,{size:"small",icon:(0,D.jsx)(z.A,{}),onClick:()=>Y(e.id,(e.quantity||1)-1),disabled:(e.quantity||1)<=1}),(0,D.jsx)(B,{strong:!0,children:e.quantity||1}),(0,D.jsx)(x.Ay,{size:"small",icon:(0,D.jsx)(I.A,{}),onClick:()=>Y(e.id,(e.quantity||1)+1)})]}),(0,D.jsxs)(B,{strong:!0,children:["$",((e.quantity||1)*e.price).toFixed(2)]})]})})})})}),n.length>0&&(0,D.jsx)("div",{style:{position:"sticky",bottom:0,marginTop:24,padding:"16px 0",background:"#fff",borderTop:"1px solid #f0f0f0"},children:(0,D.jsxs)(x.Ay,{type:"primary",block:!0,size:"large",onClick:()=>J(!0),children:["Proceed to Checkout (",n.length," items) - $",Q().toFixed(2)]})})]}),ce]})]})}}}]);
//# sourceMappingURL=10.114f5906.chunk.js.map