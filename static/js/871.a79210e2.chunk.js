"use strict";(self.webpackChunkpro=self.webpackChunkpro||[]).push([[871],{7640:(e,t,s)=>{s.d(t,{A:()=>x});s(5043);var r=s(8964),l=s(5206),i=s(3216),d=s(5475),n=s(5016),o=s(5176),a=s(579);const{Header:c}=r.A,x=()=>{const{logout:e}=(0,n.As)(),t=(0,i.Zp)();return(0,a.jsxs)(c,{style:{background:"#fff",padding:"0 20px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[(0,a.jsx)(d.N_,{to:"/admin",style:{fontSize:"20px",fontWeight:"bold",color:"#000"},children:"Movie Admin"}),(0,a.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,a.jsx)(d.N_,{to:"/admin",children:(0,a.jsx)(l.Ay,{type:"text",children:"Dashboard"})}),(0,a.jsx)(d.N_,{to:"/admin/products",children:(0,a.jsx)(l.Ay,{type:"text",children:"Products"})}),(0,a.jsx)(d.N_,{to:"/admin/orders",children:(0,a.jsx)(l.Ay,{type:"text",children:"Orders"})}),(0,a.jsx)(d.N_,{children:(0,a.jsx)(l.Ay,{type:"primary",danger:!0,icon:(0,a.jsx)(o.A,{}),onClick:()=>{e(),t("/")},children:"Logout"})})]})]})}},3871:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var r=s(9379),l=s(5043),i=s(8964),d=s(3927),n=s(3530),o=s(7419),a=s(1645),c=s(5531),x=s(2968),u=s(6051),h=s(3038),j=s(6401),A=s(3722),p=s(3881),v=s(7640),g=s(446),m=s.n(g),y=s(579);const{Content:f}=i.A,{Title:S,Text:b}=d.A,{RangePicker:O}=n.A,C=()=>{const{orders:e,products:t}=(0,p.Bj)(),[s,d]=(0,l.useState)([m()().subtract(7,"day"),m()()]),n=(0,l.useMemo)((()=>{if(!e||!s)return[];const[t,r]=s;return e.filter((e=>{const s=m()(e.date);return s.isAfter(t)&&s.isBefore(r.add(1,"day"))}))}),[e,s]),g=(0,l.useMemo)((()=>{if(!n.length)return{totalOrders:0,totalRevenue:0,averageOrderValue:0,uniqueCustomers:0};const e=n.length,t=n.reduce(((e,t)=>e+t.items.reduce(((e,t)=>e+t.price*(t.quantity||1)),0)),0);return{totalOrders:e,totalRevenue:t,averageOrderValue:t/e,uniqueCustomers:new Set(n.map((e=>e.email))).size}}),[n]),C=(0,l.useMemo)((()=>{const t={};return e.forEach((e=>{e.items.forEach((e=>{t[e.id]||(t[e.id]=(0,r.A)((0,r.A)({},e),{},{totalSold:0})),t[e.id].totalSold+=e.quantity||1}))})),Object.values(t).sort(((e,t)=>t.totalSold-e.totalSold)).slice(0,6)}),[e]);return(0,y.jsxs)(i.A,{style:{minHeight:"100vh"},children:[(0,y.jsx)(v.A,{}),(0,y.jsxs)(f,{style:{padding:"24px"},children:[(0,y.jsxs)(o.A,{justify:"space-between",align:"middle",style:{marginBottom:24},children:[(0,y.jsx)(a.A,{children:(0,y.jsx)(S,{level:2,children:"Dashboard Overview"})}),(0,y.jsx)(a.A,{children:(0,y.jsx)(O,{value:s,onChange:d,allowClear:!1,style:{width:300},disabledDate:e=>e&&e>m()().endOf("day")})})]}),(0,y.jsxs)(o.A,{gutter:[24,24],children:[(0,y.jsx)(a.A,{xs:24,sm:12,lg:6,children:(0,y.jsx)(c.A,{children:(0,y.jsx)(x.A,{title:"Total Orders",value:g.totalOrders,prefix:(0,y.jsx)(h.A,{}),valueStyle:{color:"#3f8600"}})})}),(0,y.jsx)(a.A,{xs:24,sm:12,lg:6,children:(0,y.jsx)(c.A,{children:(0,y.jsx)(x.A,{title:"Total Revenue",value:g.totalRevenue,precision:2,prefix:(0,y.jsx)(j.A,{}),valueStyle:{color:"#3f8600"}})})}),(0,y.jsx)(a.A,{xs:24,sm:12,lg:6,children:(0,y.jsx)(c.A,{children:(0,y.jsx)(x.A,{title:"Average Order Value",value:g.averageOrderValue,precision:2,prefix:(0,y.jsx)(j.A,{}),valueStyle:{color:"#3f8600"}})})}),(0,y.jsx)(a.A,{xs:24,sm:12,lg:6,children:(0,y.jsx)(c.A,{children:(0,y.jsx)(x.A,{title:"Unique Customers",value:g.uniqueCustomers,prefix:(0,y.jsx)(A.A,{}),valueStyle:{color:"#3f8600"}})})})]}),(0,y.jsxs)(c.A,{style:{marginTop:24},children:[(0,y.jsx)(S,{level:4,children:"Most Sold Movies"}),(0,y.jsx)(o.A,{gutter:[16,16],children:C.map((e=>(0,y.jsx)(a.A,{xs:24,sm:12,md:8,lg:6,xl:4,children:(0,y.jsx)(c.A,{hoverable:!0,cover:(0,y.jsx)("img",{alt:e.title,src:e.image,style:{height:300,objectFit:"cover"}}),children:(0,y.jsx)(c.A.Meta,{title:e.title,description:(0,y.jsxs)(u.A,{direction:"vertical",children:[(0,y.jsxs)(b,{children:["Total Sold: ",e.totalSold]}),(0,y.jsxs)(b,{children:["Revenue: $",(e.price*e.totalSold).toFixed(2)]})]})})})},e.id)))})]})]})]})}}}]);
//# sourceMappingURL=871.a79210e2.chunk.js.map