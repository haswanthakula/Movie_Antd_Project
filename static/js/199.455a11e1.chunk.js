"use strict";(self.webpackChunkpro=self.webpackChunkpro||[]).push([[199],{7640:(e,t,r)=>{r.d(t,{A:()=>y});r(5043);var s=r(8964),i=r(5206),l=r(3216),d=r(5475),n=r(5016),c=r(5176),a=r(579);const{Header:o}=s.A,y=()=>{const{logout:e}=(0,n.As)(),t=(0,l.Zp)();return(0,a.jsxs)(o,{style:{background:"#fff",padding:"0 20px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[(0,a.jsx)(d.N_,{to:"/admin",style:{fontSize:"20px",fontWeight:"bold",color:"#000"},children:"Movie Admin"}),(0,a.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,a.jsx)(d.N_,{to:"/admin",children:(0,a.jsx)(i.Ay,{type:"text",children:"Dashboard"})}),(0,a.jsx)(d.N_,{to:"/admin/products",children:(0,a.jsx)(i.Ay,{type:"text",children:"Products"})}),(0,a.jsx)(d.N_,{to:"/admin/orders",children:(0,a.jsx)(i.Ay,{type:"text",children:"Orders"})}),(0,a.jsx)(d.N_,{children:(0,a.jsx)(i.Ay,{type:"primary",danger:!0,icon:(0,a.jsx)(c.A,{}),onClick:()=>{e(),t("/")},children:"Logout"})})]})]})}},1199:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var s=r(5043),i=r(8964),l=r(9748),d=r(2019),n=r(6051),c=r(5206),a=r(647),o=r(7761),y=r(1995),u=r(1982),x=r(1118),p=r(7407),A=r(1966),h=r(5337),j=r(7640),m=r(3881),g=r(579);const{Content:f}=i.A,C=()=>{const{products:e,loading:t,deleteProduct:r,updateProduct:C,addProduct:P}=(0,m.Bj)(),[b,k]=(0,s.useState)(null),[w,I]=(0,s.useState)(!1),[F,v]=(0,s.useState)(!1),[S]=l.A.useForm(),[T]=l.A.useForm(),q=[{title:"Title",dataIndex:"title",key:"title"},{title:"Category",dataIndex:"category",key:"category",filters:[...new Set(e.map((e=>e.category)))].map((e=>({text:e,value:e}))),onFilter:(e,t)=>t.category===e},{title:"Price",dataIndex:"price",key:"price",sorter:(e,t)=>e.price-t.price,render:e=>"$".concat(e.toFixed(2))},{title:"Actions",key:"actions",render:(e,t)=>(0,g.jsxs)(n.A,{children:[(0,g.jsx)(c.Ay,{type:"primary",icon:(0,g.jsx)(p.A,{}),onClick:()=>(e=>{k(e),S.setFieldsValue(e),I(!0)})(t),children:"Edit"}),(0,g.jsx)(a.A,{title:"Are you sure you want to delete this product?",onConfirm:()=>(async e=>{try{await r(e),d.Ay.success("Product deleted successfully")}catch(t){d.Ay.error("Failed to delete product")}})(t.id),okText:"Yes",cancelText:"No",children:(0,g.jsx)(c.Ay,{type:"primary",danger:!0,icon:(0,g.jsx)(A.A,{}),children:"Delete"})})]})}];return(0,g.jsxs)(i.A,{children:[(0,g.jsx)(j.A,{}),(0,g.jsxs)(f,{style:{padding:"24px",minHeight:"calc(100vh - 64px)",background:"#f0f2f5"},children:[(0,g.jsx)(c.Ay,{type:"primary",icon:(0,g.jsx)(h.A,{}),onClick:()=>v(!0),style:{marginBottom:16},children:"Add Product"}),(0,g.jsx)(o.A,{columns:q,dataSource:e,rowKey:"id",loading:t}),(0,g.jsx)(y.A,{title:"Edit Product",open:w,onCancel:()=>I(!1),footer:null,children:(0,g.jsxs)(l.A,{form:S,layout:"vertical",onFinish:async e=>{try{await C(b.id,e),I(!1),d.Ay.success("Product updated successfully")}catch(t){d.Ay.error("Failed to update product")}},children:[(0,g.jsx)(l.A.Item,{name:"title",label:"Title",rules:[{required:!0,message:"Please enter title"}],children:(0,g.jsx)(u.A,{})}),(0,g.jsx)(l.A.Item,{name:"category",label:"Category",rules:[{required:!0,message:"Please enter category"}],children:(0,g.jsx)(u.A,{})}),(0,g.jsx)(l.A.Item,{name:"price",label:"Price",rules:[{required:!0,message:"Please enter price"}],children:(0,g.jsx)(x.A,{min:0,precision:2,style:{width:"100%"}})}),(0,g.jsx)(l.A.Item,{children:(0,g.jsxs)(n.A,{style:{width:"100%",justifyContent:"flex-end"},children:[(0,g.jsx)(c.Ay,{onClick:()=>I(!1),children:"Cancel"}),(0,g.jsx)(c.Ay,{type:"primary",htmlType:"submit",children:"Update"})]})})]})}),(0,g.jsx)(y.A,{title:"Add Product",open:F,onCancel:()=>v(!1),footer:null,children:(0,g.jsxs)(l.A,{form:T,layout:"vertical",onFinish:async e=>{try{await P(e),v(!1),T.resetFields(),d.Ay.success("Product added successfully")}catch(t){d.Ay.error("Failed to add product")}},children:[(0,g.jsx)(l.A.Item,{name:"title",label:"Title",rules:[{required:!0,message:"Please enter title"}],children:(0,g.jsx)(u.A,{})}),(0,g.jsx)(l.A.Item,{name:"category",label:"Category",rules:[{required:!0,message:"Please enter category"}],children:(0,g.jsx)(u.A,{})}),(0,g.jsx)(l.A.Item,{name:"price",label:"Price",rules:[{required:!0,message:"Please enter price"}],children:(0,g.jsx)(x.A,{min:0,precision:2,style:{width:"100%"}})}),(0,g.jsx)(l.A.Item,{children:(0,g.jsxs)(n.A,{style:{width:"100%",justifyContent:"flex-end"},children:[(0,g.jsx)(c.Ay,{onClick:()=>v(!1),children:"Cancel"}),(0,g.jsx)(c.Ay,{type:"primary",htmlType:"submit",children:"Add"})]})})]})})]})]})}}}]);
//# sourceMappingURL=199.455a11e1.chunk.js.map